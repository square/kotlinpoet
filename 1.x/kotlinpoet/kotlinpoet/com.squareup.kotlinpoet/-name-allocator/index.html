<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>NameAllocator</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
        <script>var pathToRoot = "../../../";</script>
    <script>document.documentElement.classList.replace("no-js", "js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
      if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
          document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
      } else {
        const savedDarkMode = JSON.parse(storage)
        if (savedDarkMode === true) {
          document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
      }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/safe-local-storage_blocking.js"></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../../ui-kit/ui-kit.min.js" defer="defer"></script>
</head>
<body>
<div class="root">
    <header class="navigation theme-dark" id="navigation-wrapper" role="banner">
            <a class="library-name--link" href="../../../index.html" tabindex="1">
                    kotlinpoet
            </a>
        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle"
                type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
2.3.0-SNAPSHOT        </div>
        <div class="navigation-controls">
        <ul class="filter-section filter-section_loading" id="filter-section" aria-label="Target filter">
                <button class="platform-tag platform-selector common-like" data-active="" aria-pressed="true"
                        data-filter=":kotlinpoet/commonMain">common</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox"
                        data-role="dropdown-toggle"
                        aria-controls="platform-tags-listbox"
                        aria-haspopup="listbox"
                        aria-expanded="false"
                        aria-label="Toggle source sets"
                ></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox" aria-label="Target filter">
                    <div class="dropdown--header"><span>Target filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close target filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option common-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":kotlinpoet/commonMain"
                                       data-filter=":kotlinpoet/commonMain"/>
                                <span class="checkbox--icon"></span>
                                common
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </ul>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button"
                    type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </header>
    <div id="container">
        <nav id="leftColumn" class="sidebar" data-item-type="SECTION" data-item-config='{"defaultSize": 280, "minSize": 200, "maxSize": 400}'>
            <a class="toc--skip-link" href="#main">Skip to content</a>
            <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list"
                    data-role="dropdown-listbox" aria-label="Table of contents">
                    <div class="dropdown--header">
                            <span>
                                    kotlinpoet
                            </span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                    <div class="sidebar--inner" id="sideMenu"></div>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </nav>
        <div id="resizer" class="resizer" data-item-type="BAR"></div>
        <div id="main" data-item-type="SECTION" role="main">
<div class="main-content" data-page-type="classlike" id="content" pageIds="kotlinpoet::com.squareup.kotlinpoet/NameAllocator///PointingToDeclaration//-1784868102">
  <div class="breadcrumbs"><a href="../../../index.html">kotlinpoet</a><span class="delimiter">/</span><a href="../index.html">com.squareup.kotlinpoet</a><span class="delimiter">/</span><span class="current">NameAllocator</span></div>
  <div class="cover ">
    <h1 class="cover"><span>Name</span><wbr></wbr><span><span>Allocator</span></span></h1>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kotlinpoet/commonMain"><div class="symbol monospace"><span class="token keyword">class </span><a href="index.html">NameAllocator</a></div><p class="paragraph">Assigns Kotlin identifier names to avoid collisions, keywords, and invalid characters. To use, first create an instance and allocate all of the names that you need. Typically this is a mix of user-supplied names and constants:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val nameAllocator = NameAllocator()<br>for (property in properties) {<br>  nameAllocator.newName(property.name, property)<br>}<br>nameAllocator.newName(&quot;sb&quot;, &quot;string builder&quot;)</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">Pass a unique tag object to each allocation. The tag scopes the name, and can be used to look up the allocated name later. Typically the tag is the object that is being named. In the above example we use <code class="lang-kotlin">property</code> for the user-supplied property names, and <code class="lang-kotlin">&quot;string builder&quot;</code> for our constant string builder.</p><p class="paragraph">Once we've allocated names we can use them when generating code:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val builder = FunSpec.builder(&quot;toString&quot;)<br>    .addModifiers(KModifier.OVERRIDE)<br>    .returns(String::class)<br><br>builder.addStatement(&quot;val %N = %T()&quot;,<br>    nameAllocator.get(&quot;string builder&quot;), StringBuilder::class)<br><br>for (property in properties) {<br>  builder.addStatement(&quot;%N.append(%N)&quot;,<br>      nameAllocator.get(&quot;string builder&quot;), nameAllocator.get(property))<br>}<br>builder.addStatement(&quot;return %N.toString()&quot;, nameAllocator.get(&quot;string builder&quot;))<br>return builder.build()</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">The above code generates unique names if presented with conflicts. Given user-supplied properties with names <code class="lang-kotlin">ab</code> and <code class="lang-kotlin">sb</code> this generates the following:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">override fun toString(): kotlin.String {<br>  val sb_ = java.lang.StringBuilder()<br>  sb_.append(ab)<br>  sb_.append(sb)<br>  return sb_.toString()<br>}</code></pre><span class="copy-tooltip"><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div><span class="copy-icon"></span></span></div><p class="paragraph">The underscore is appended to <code class="lang-kotlin">sb</code> to avoid conflicting with the user-supplied <code class="lang-kotlin">sb</code> property. Underscores are also prefixed for names that start with a digit, and used to replace name-unsafe characters like space or dash.</p><p class="paragraph">When dealing with multiple independent inner scopes, use a <a href="copy.html">copy</a> of the NameAllocator used for the outer scope to further refine name allocation for a specific inner scope.</p></div></div>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="CONSTRUCTOR,TYPE,PROPERTY,FUNCTION">Members</button></div>
    <div class="tabs-section-body">
      <div data-togglable="CONSTRUCTOR">
        <h2 class="tableheader">Constructors</h2>
        <div class="table"><a data-name="-1989431105%2FConstructors%2F-1784868102" anchor-label="NameAllocator" id="-1989431105%2FConstructors%2F-1784868102" data-filterable-set=":kotlinpoet/commonMain"></a>
          <div class="table-row table-row_content" data-togglable="CONSTRUCTOR" data-filterable-current=":kotlinpoet/commonMain" data-filterable-set=":kotlinpoet/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-name-allocator.html"><span>Name</span><wbr></wbr><span><span>Allocator</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1989431105%2FConstructors%2F-1784868102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kotlinpoet/commonMain"><div class="symbol monospace"><span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="symbol monospace"><span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">preallocateKeywords<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span></div><div class="brief "></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="FUNCTION">
        <h2 class="tableheader">Functions</h2>
        <div class="table"><a data-name="-1374985351%2FFunctions%2F-1784868102" anchor-label="contains" id="-1374985351%2FFunctions%2F-1784868102" data-filterable-set=":kotlinpoet/commonMain"></a>
          <div class="table-row table-row_content" data-filterable-current=":kotlinpoet/commonMain" data-filterable-set=":kotlinpoet/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="contains.html"><span><span>contains</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1374985351%2FFunctions%2F-1784868102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kotlinpoet/commonMain"><div class="symbol monospace"><span class="token keyword">operator </span><span class="token keyword">fun </span><a href="contains.html"><span class="token function">contains</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">tag<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-any/index.html">Any</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></div><div class="brief "><p class="paragraph">Check if the given <a href="contains.html">tag</a> is already allocated with <a href="new-name.html">NameAllocator.newName</a>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-884748574%2FFunctions%2F-1784868102" anchor-label="copy" id="-884748574%2FFunctions%2F-1784868102" data-filterable-set=":kotlinpoet/commonMain"></a>
          <div class="table-row table-row_content" data-filterable-current=":kotlinpoet/commonMain" data-filterable-set=":kotlinpoet/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="copy.html"><span><span>copy</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-884748574%2FFunctions%2F-1784868102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kotlinpoet/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="copy.html"><span class="token function">copy</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="index.html">NameAllocator</a></div><div class="brief "><p class="paragraph">Create a deep copy of this NameAllocator. Useful to create multiple independent refinements of a NameAllocator to be used in the respective definition of multiples, independently-scoped, inner code blocks.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1914373038%2FFunctions%2F-1784868102" anchor-label="get" id="1914373038%2FFunctions%2F-1784868102" data-filterable-set=":kotlinpoet/commonMain"></a>
          <div class="table-row table-row_content" data-filterable-current=":kotlinpoet/commonMain" data-filterable-set=":kotlinpoet/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="get.html"><span><span>get</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1914373038%2FFunctions%2F-1784868102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kotlinpoet/commonMain"><div class="symbol monospace"><span class="token keyword">operator </span><span class="token keyword">fun </span><a href="get.html"><span class="token function">get</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">tag<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-any/index.html">Any</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a></div><div class="brief "><p class="paragraph">Retrieve a name created with <a href="new-name.html">NameAllocator.newName</a>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1782986284%2FFunctions%2F-1784868102" anchor-label="newName" id="-1782986284%2FFunctions%2F-1784868102" data-filterable-set=":kotlinpoet/commonMain"></a>
          <div class="table-row table-row_content" data-filterable-current=":kotlinpoet/commonMain" data-filterable-set=":kotlinpoet/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="new-name.html"><span>new</span><wbr></wbr><span><span>Name</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1782986284%2FFunctions%2F-1784868102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kotlinpoet/commonMain"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.jvm/-jvm-overloads/index.html"><span class="token annotation builtin">JvmOverloads</span></a></div></div><span class="token keyword">fun </span><a href="new-name.html"><span class="token function">newName</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">suggestion<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">tag<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-any/index.html">Any</a><span class="token operator"> = </span>Random.nextULong().toString(16).padStart(16, '0')</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a></div><div class="brief "><p class="paragraph">Return a new name using <code class="lang-kotlin">suggestion</code> that will not be a Java identifier or clash with other names. The returned value can be queried multiple times by passing <code class="lang-kotlin">tag</code> to <a href="get.html">NameAllocator.get</a>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <div class="footer--container">
            <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
            <div class="footer--content">
                <div>
                    <span>Generated by </span>
                    <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                        Dokka
                    </a>
                    <div>© 2025 Copyright</div>
                </div>
            </div>
        </div>
    </div>
        </div>
    </div>
</div>
</body>
</html>